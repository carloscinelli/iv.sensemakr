<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Sensitivity Analysis Tools for Instrumental Variable Estimates • iv.sensemakr</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><link href="extra.css" rel="stylesheet">
<meta property="og:title" content="Sensitivity Analysis Tools for Instrumental Variable Estimates">
<meta name="description" content="Implements a suite of sensitivity analysis tools for instrumental variable estimates as described in Cinelli and Hazlett (2025) &lt;doi:10.1093/biomet/asaf004&gt;.">
<meta property="og:description" content="Implements a suite of sensitivity analysis tools for instrumental variable estimates as described in Cinelli and Hazlett (2025) &lt;doi:10.1093/biomet/asaf004&gt;.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-dark" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">iv.sensemakr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="articles/iv.sensemakr.html">Get Started</a></li>
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/carloscinelli/iv.sensemakr/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="ivsensemakr-sensitivity-analysis-tools-for-iv-">iv.sensemakr: Sensitivity Analysis Tools for IV <img src="reference/figures/iv-sensemakr-logo-small.png" align="right"><a class="anchor" aria-label="anchor" href="#ivsensemakr-sensitivity-analysis-tools-for-iv-"></a>
</h1></div>
<!-- badges: start -->

<p><code>iv.sensemakr</code> implements a suite of sensitivity analysis tools for instrumental variable estimates, as discussed in Cinelli, C. and Hazlett, C. (2025) “An Omitted Variable Bias Framework for Sensitivity Analysis of Instrumental Variables”, <em>Biometrika</em> (<a href="https://doi.org/10.1093/biomet/asaf004" class="external-link">doi:10.1093/biomet/asaf004</a>; <a href="https://carloscinelli.com/files/Cinelli%20and%20Hazlett%20-%20OVB%20for%20IV.pdf" class="external-link">PDF</a>).</p>
</div>
<div class="section level1">
<h1 id="news">News<a class="anchor" aria-label="anchor" href="#news"></a>
</h1>
<ul>
<li><p>Package website <a href="https://carloscinelli.com/iv.sensemakr/">is now online.</a></p></li>
<li><p>Paper published in <a href="https://doi.org/10.1093/biomet/asaf004" class="external-link">Biometrika.</a> You can find a <a href="https://carloscinelli.com/files/Cinelli%20and%20Hazlett%20-%20OVB%20for%20IV.pdf" class="external-link">free version here.</a>.</p></li>
<li><p>Watch the <a href="https://www.youtube.com/watch?v=ykZqPB1FPNo" class="external-link">video of the talk at PCIC.</a></p></li>
<li><p>Watch the <a href="https://www.youtube.com/watch?v=0b5VYWh8fN4" class="external-link">video of the talk at JSM.</a></p></li>
</ul>
</div>
<div class="section level1">
<h1 id="development-version">Development version<a class="anchor" aria-label="anchor" href="#development-version"></a>
</h1>
<p>To install the development version on GitHub make sure you have the package <code>devtools</code> installed.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("devtools") </span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"carloscinelli/iv.sensemakr"</span><span class="op">)</span></span></code></pre></div>
<p>Please also make sure you have the latest version of <code>sensemakr</code> installed.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("devtools") </span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"carloscinelli/sensemakr"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level1">
<h1 id="basic-usage">Basic usage<a class="anchor" aria-label="anchor" href="#basic-usage"></a>
</h1>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># loads package</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://carloscinelli.com/iv.sensemakr/">iv.sensemakr</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># loads dataset</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"card"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># prepares data</span></span>
<span><span class="va">y</span> <span class="op">&lt;-</span> <span class="va">card</span><span class="op">$</span><span class="va">lwage</span>  <span class="co"># outcome</span></span>
<span><span class="va">d</span> <span class="op">&lt;-</span> <span class="va">card</span><span class="op">$</span><span class="va">educ</span>   <span class="co"># treatment</span></span>
<span><span class="va">z</span> <span class="op">&lt;-</span> <span class="va">card</span><span class="op">$</span><span class="va">nearc4</span> <span class="co"># instrument</span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/model.matrix.html" class="external-link">model.matrix</a></span><span class="op">(</span> <span class="op">~</span> <span class="va">exper</span> <span class="op">+</span> <span class="va">expersq</span> <span class="op">+</span> <span class="va">black</span> <span class="op">+</span> <span class="va">south</span> <span class="op">+</span> <span class="va">smsa</span> <span class="op">+</span> <span class="va">reg661</span> <span class="op">+</span> <span class="va">reg662</span> <span class="op">+</span></span>
<span>                     <span class="va">reg663</span> <span class="op">+</span> <span class="va">reg664</span> <span class="op">+</span> <span class="va">reg665</span><span class="op">+</span> <span class="va">reg666</span> <span class="op">+</span> <span class="va">reg667</span> <span class="op">+</span> <span class="va">reg668</span> <span class="op">+</span> <span class="va">smsa66</span>,</span>
<span>                   data <span class="op">=</span> <span class="va">card</span><span class="op">)</span> <span class="co"># covariates</span></span>
<span><span class="co"># fits IV model</span></span>
<span><span class="va">card.fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/iv_fit.html">iv_fit</a></span><span class="op">(</span><span class="va">y</span>,<span class="va">d</span>,<span class="va">z</span>,<span class="va">x</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># see results</span></span>
<span><span class="va">card.fit</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Instrumental Variable Estimation</span></span>
<span><span class="co">#&gt; (Anderson-Rubin Approach)</span></span>
<span><span class="co">#&gt; =============================================</span></span>
<span><span class="co">#&gt; IV Estimates:</span></span>
<span><span class="co">#&gt;   Coef. Estimate: 0.132</span></span>
<span><span class="co">#&gt;   t-value: 2.33</span></span>
<span><span class="co">#&gt;   p-value: 0.02</span></span>
<span><span class="co">#&gt;   Conf. Interval: [0.025, 0.285]</span></span>
<span><span class="co">#&gt; Note: H0 = 0, alpha = 0.05, df = 2994.</span></span>
<span><span class="co">#&gt; =============================================</span></span>
<span><span class="co">#&gt; See summary for first stage and reduced form.</span></span>
<span></span>
<span><span class="co"># runs sensitivity analysis</span></span>
<span><span class="va">card.sens</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/sensemakr.html">sensemakr</a></span><span class="op">(</span><span class="va">card.fit</span>, benchmark_covariates <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"black"</span>, <span class="st">"smsa"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># see results</span></span>
<span><span class="va">card.sens</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Sensitivity Analysis for Instrumental Variables</span></span>
<span><span class="co">#&gt; (Anderson-Rubin Approach)</span></span>
<span><span class="co">#&gt; =============================================================</span></span>
<span><span class="co">#&gt; IV Estimates:</span></span>
<span><span class="co">#&gt;   Coef. Estimate: 0.132</span></span>
<span><span class="co">#&gt;   t-value: 2.33</span></span>
<span><span class="co">#&gt;   p-value: 0.02</span></span>
<span><span class="co">#&gt;   Conf. Interval: [0.025, 0.285]</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Sensitivity Statistics:</span></span>
<span><span class="co">#&gt;   Extreme Robustness Value: 0.000523</span></span>
<span><span class="co">#&gt;   Robustness Value: 0.00667</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Bounds on Omitted Variable Bias:</span></span>
<span><span class="co">#&gt;  Bound Label  R2zw.x R2y0w.zx Lower CI Upper CI Crit. Thr.</span></span>
<span><span class="co">#&gt;     1x black 0.00221   0.0750  -0.0212    0.402       2.59</span></span>
<span><span class="co">#&gt;      1x smsa 0.00639   0.0202  -0.0192    0.396       2.57</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Note: H0 = 0, q &gt;= 1, alpha = 0.05, df = 2994.</span></span>
<span><span class="co">#&gt; =============================================================</span></span>
<span><span class="co">#&gt; See summary for first stage and reduced form.</span></span>
<span></span>
<span><span class="co"># sensitivity contour plot</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">card.sens</span>, lim <span class="op">=</span> <span class="fl">0.09</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-basic-usage-1.png" width="100%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># latex code for sensitivity table</span></span>
<span><span class="fu"><a href="reference/ovb_minimal_reporting.html">ovb_minimal_reporting</a></span><span class="op">(</span><span class="va">card.sens</span>, outcome_label <span class="op">=</span> <span class="st">"lwage"</span>, treatment_label <span class="op">=</span> <span class="st">"educ"</span><span class="op">)</span></span>
<span><span class="co">#&gt; \begin{table}[!h]</span></span>
<span><span class="co">#&gt; \centering</span></span>
<span><span class="co">#&gt; \begin{tabular}{lrrrrrr}</span></span>
<span><span class="co">#&gt; \multicolumn{7}{c}{Outcome: \textit{lwage}} \\</span></span>
<span><span class="co">#&gt; \hline \hline </span></span>
<span><span class="co">#&gt; Treatment: &amp; Est. &amp; Lower CI &amp; Upper CI &amp; t-value &amp; $XRV_{q = 1, \alpha = 0.05}$ &amp; $RV_{q = 1, \alpha = 0.05}$  \\ </span></span>
<span><span class="co">#&gt; \hline </span></span>
<span><span class="co">#&gt; \textit{educ} &amp; 0.132 &amp; 0.025 &amp; 0.285 &amp; 2.327 &amp; 0.1\% &amp; 0.7\% \\ </span></span>
<span><span class="co">#&gt; \hline </span></span>
<span><span class="co">#&gt; df = 2994 &amp; &amp; \multicolumn{5}{r}{ \small \textit{Bound (1x black)}: $R^2_{Z\sim W| {\bf X}}$ = 0.2\%, $R^2_{Y(0)\sim W| Z, {\bf X}}$ = 7.5\%} \\</span></span>
<span><span class="co">#&gt; \end{tabular}</span></span>
<span><span class="co">#&gt; \end{table}</span></span></code></pre></div>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># html code for sensitivity table</span></span>
<span><span class="fu"><a href="reference/ovb_minimal_reporting.html">ovb_minimal_reporting</a></span><span class="op">(</span><span class="va">card.sens</span>, format <span class="op">=</span> <span class="st">"pure_html"</span>,</span>
<span>                      outcome_label <span class="op">=</span> <span class="st">"lwage"</span>, treatment_label <span class="op">=</span> <span class="st">"educ"</span><span class="op">)</span></span></code></pre></div>
<table style="align:center" class="table">
<thead>
<tr>
<th style="text-align:left;border-bottom: 1px solid transparent;border-top: 1px solid black">
</th>
<th colspan="6" style="text-align:center;border-bottom: 1px solid black;border-top: 1px solid black">
Outcome: lwage
</th>
</tr>
<tr>
<th style="text-align:left;border-top: 1px solid black">
Treatment
</th>
<th style="text-align:right;border-top: 1px solid black">
Est.
</th>
<th style="text-align:right;border-top: 1px solid black">
Lower CI
</th>
<th style="text-align:right;border-top: 1px solid black">
Upper CI
</th>
<th style="text-align:right;border-top: 1px solid black">
t-value
</th>
<th style="text-align:right;border-top: 1px solid black">
XRV<sub>q = 1, α = 0.05</sub>
</th>
<th style="text-align:right;border-top: 1px solid black">
RV<sub>q = 1, α = 0.05</sub>
</th>
</tr>
</thead>
<tbody><tr>
<td style="text-align:left; border-bottom: 1px solid black">
<i>educ</i>
</td>
<td style="text-align:right;border-bottom: 1px solid black">
0.132
</td>
<td style="text-align:right;border-bottom: 1px solid black">
0.025
</td>
<td style="text-align:right;border-bottom: 1px solid black">
0.285
</td>
<td style="text-align:right;border-bottom: 1px solid black">
2.327
</td>
<td style="text-align:right;border-bottom: 1px solid black">
0.1%
</td>
<td style="text-align:right;border-bottom: 1px solid black">
0.7%
</td>
</tr></tbody>
<tr>
<td colspan="7" style="text-align:right;border-bottom: 1px solid transparent;font-size:11px">
Note: df = 2994; Bound ( 1x black ): R<sup>2</sup><sub>Z~W|X</sub> = 0.2%, R<sup>2</sup><sub>Y(0)~W|Z,X</sub> = 7.5%
</td>
</tr>
</table>
</div>

  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/carloscinelli/iv.sensemakr/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/carloscinelli/iv.sensemakr/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/GPL-3" class="external-link">GPL-3</a></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing iv.sensemakr</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>
<a href="https://carloscinelli.com" class="external-link">Carlos Cinelli</a> <br><small class="roles"> Author, maintainer, copyright holder </small>   </li>
<li>
<a href="https://www.chadhazlett.com" class="external-link">Chad Hazlett</a> <br><small class="roles"> Author, copyright holder </small>   </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://CRAN.R-project.org/package=iv.sensemakr" class="external-link"><img src="https://www.r-pkg.org/badges/version/iv.sensemakr" alt="CRAN status"></a></li>
<li><a href="https://github.com/carloscinelli/iv.sensemakr/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/carloscinelli/iv.sensemakr/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://app.codecov.io/gh/carloscinelli/iv.sensemakr" class="external-link"><img src="https://codecov.io/gh/carloscinelli/iv.sensemakr/graph/badge.svg" alt="Codecov test coverage"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://carloscinelli.com" class="external-link">Carlos Cinelli</a>, <a href="https://www.chadhazlett.com" class="external-link">Chad Hazlett</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
