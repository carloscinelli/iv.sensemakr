<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Contour plots of omitted variable bias for IV — ovb_contour_plot • iv.sensemakr</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Contour plots of omitted variable bias for IV — ovb_contour_plot"><meta name="description" content='Contour plots of omitted variable bias for sensitivity analysis of instrumental variable estimates.
The main inputs are an iv_fit model, and the covariates used for benchmarking the strength of omitted variables.
If parm = "iv" (default) contour plots of the IV estimate are shown. The horizontal axis of the plot shows hypothetical values of the partial R2 of latent variables with the instrument. The vertical axis shows hypothetical values of the partial R2 of latent variables with the (pot.) outcome. The contour levels represent the adjusted lower limit (or upper limit) of the Anderson-Rubin confidence interval of the IV estimate, or the t-value for testing a specific null hypothesis.  The reference points are the bounds on the partial R2 of latent variables if they were k times “as strong” as the observed covariate used for benchmarking (see arguments kz and ky). The dotted red line show the chosen critical threshold (for instance, zero): latent variables with such strength (or stronger) are sufficient to invalidate the research conclusions.
if parm = "fs" or parm = "rf", then contour plots of the first-stage and reduced-form regression are shown. See, e.g, ovb_contour_plot.lm.
See Cinelli and Hazlett (2020, 2025) for details.'><meta property="og:description" content='Contour plots of omitted variable bias for sensitivity analysis of instrumental variable estimates.
The main inputs are an iv_fit model, and the covariates used for benchmarking the strength of omitted variables.
If parm = "iv" (default) contour plots of the IV estimate are shown. The horizontal axis of the plot shows hypothetical values of the partial R2 of latent variables with the instrument. The vertical axis shows hypothetical values of the partial R2 of latent variables with the (pot.) outcome. The contour levels represent the adjusted lower limit (or upper limit) of the Anderson-Rubin confidence interval of the IV estimate, or the t-value for testing a specific null hypothesis.  The reference points are the bounds on the partial R2 of latent variables if they were k times “as strong” as the observed covariate used for benchmarking (see arguments kz and ky). The dotted red line show the chosen critical threshold (for instance, zero): latent variables with such strength (or stronger) are sufficient to invalidate the research conclusions.
if parm = "fs" or parm = "rf", then contour plots of the first-stage and reduced-form regression are shown. See, e.g, ovb_contour_plot.lm.
See Cinelli and Hazlett (2020, 2025) for details.'></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-dark" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">iv.sensemakr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/iv.sensemakr.html">Get Started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="https://github.com/carloscinelli/iv.sensemakr/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Contour plots of omitted variable bias for IV</h1>
      <small class="dont-index">Source: <a href="https://github.com/carloscinelli/iv.sensemakr/blob/main/R/plots.R" class="external-link"><code>R/plots.R</code></a></small>
      <div class="d-none name"><code>ovb_contour_plot.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Contour plots of omitted variable bias for sensitivity analysis of instrumental variable estimates.</p>
<p>The main inputs are an <code><a href="iv_fit.html">iv_fit</a></code> model, and the covariates used for benchmarking the strength of omitted variables.</p>
<p>If <code>parm = "iv"</code> (default) contour plots of the IV estimate are shown. The horizontal axis of the plot shows hypothetical values of the partial R2 of latent variables with the instrument. The vertical axis shows hypothetical values of the partial R2 of latent variables with the (pot.) outcome. The contour levels represent the adjusted lower limit (or upper limit) of the Anderson-Rubin confidence interval of the IV estimate, or the t-value for testing a specific null hypothesis.  The reference points are the bounds on the partial R2 of latent variables if they were k times “as strong” as the observed covariate used for benchmarking (see arguments kz and ky). The dotted red line show the chosen critical threshold (for instance, zero): latent variables with such strength (or stronger) are sufficient to invalidate the research conclusions.</p>
<p>if <code>parm = "fs"</code> or <code>parm = "rf"</code>, then contour plots of the first-stage and reduced-form regression are shown. See, e.g, <code><a href="https://rdrr.io/pkg/sensemakr/man/ovb_contour_plot.html" class="external-link">ovb_contour_plot.lm</a></code>.</p>
<p>See Cinelli and Hazlett (2020, 2025) for details.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">ovb_contour_plot</span><span class="op">(</span><span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'iv_fit'</span></span>
<span><span class="fu">ovb_contour_plot</span><span class="op">(</span></span>
<span>  <span class="va">model</span>,</span>
<span>  benchmark_covariates <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  kz <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  ky <span class="op">=</span> <span class="va">kz</span>,</span>
<span>  kd <span class="op">=</span> <span class="va">kz</span>,</span>
<span>  sensitivity.of <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"lwr"</span>, <span class="st">"upr"</span>, <span class="st">"t-value"</span><span class="op">)</span>,</span>
<span>  parm <span class="op">=</span> <span class="st">"iv"</span>,</span>
<span>  r2zw.x <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  r2y0w.zx <span class="op">=</span> <span class="va">r2zw.x</span>,</span>
<span>  bound_label <span class="op">=</span> <span class="st">"manual bound"</span>,</span>
<span>  xlab <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  ylab <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>further arguments and graphical parameters.</p></dd>


<dt id="arg-model">model<a class="anchor" aria-label="anchor" href="#arg-model"></a></dt>
<dd><p>a model created with the function <code><a href="iv_fit.html">iv_fit</a></code>.</p></dd>


<dt id="arg-benchmark-covariates">benchmark_covariates<a class="anchor" aria-label="anchor" href="#arg-benchmark-covariates"></a></dt>
<dd><p>character vector of the names of covariates that will be used to bound the plausible strength of the latent variables.</p></dd>


<dt id="arg-kz">kz<a class="anchor" aria-label="anchor" href="#arg-kz"></a></dt>
<dd><p>numeric vector. Parameterizes how many times stronger the latent variables are related to the instrument in comparison to the observed benchmark covariates.
Default value is <code>1</code> (latent variable is as strong as benchmark covariate).</p></dd>


<dt id="arg-ky">ky<a class="anchor" aria-label="anchor" href="#arg-ky"></a></dt>
<dd><p>numeric vector. Parameterizes how many times stronger the latent variables are related to the (pot.) outcome in comparison to the observed benchmark covariates.</p></dd>


<dt id="arg-kd">kd<a class="anchor" aria-label="anchor" href="#arg-kd"></a></dt>
<dd><p>numeric vector. Parameterizes how many times stronger the latent variables are related to the treatment in comparison to the observed benchmark covariates. Default value is the same as <code>kz</code>.</p></dd>


<dt id="arg-sensitivity-of">sensitivity.of<a class="anchor" aria-label="anchor" href="#arg-sensitivity-of"></a></dt>
<dd><p>should the contour plot show adjusted lower limits of confidence intervals (<code>"lwr"</code>), upper limit of confidence intervals (<code>"upr"</code>) or t-values (<code>"t-value"</code>)?</p></dd>


<dt id="arg-parm">parm<a class="anchor" aria-label="anchor" href="#arg-parm"></a></dt>
<dd><p>contour plots of which estimate? Options are <code>iv</code> for instrumental variable estimates, <code>fs</code> for first-stage estimates, and <code>rf</code> for reduced-form estimates.</p></dd>


<dt id="arg-r-zw-x">r2zw.x<a class="anchor" aria-label="anchor" href="#arg-r-zw-x"></a></dt>
<dd><p>(optional) hypothetical partial R2 of latent variables
W with the instrument Z, given observed covariates X.</p></dd>


<dt id="arg-r-y-w-zx">r2y0w.zx<a class="anchor" aria-label="anchor" href="#arg-r-y-w-zx"></a></dt>
<dd><p>(optional) hypothetical partial R2 of latent variables W with the (pot.) outcome Y(0) given Z and X. Default is the same as <code>r2zw.x</code>.</p></dd>


<dt id="arg-bound-label">bound_label<a class="anchor" aria-label="anchor" href="#arg-bound-label"></a></dt>
<dd><p>label to bounds provided manually in <code>r2zw.x</code> and <code>r2y0w.zx</code>.</p></dd>


<dt id="arg-xlab">xlab<a class="anchor" aria-label="anchor" href="#arg-xlab"></a></dt>
<dd><p>label of x axis. If `NULL`, default label is used.</p></dd>


<dt id="arg-ylab">ylab<a class="anchor" aria-label="anchor" href="#arg-ylab"></a></dt>
<dd><p>label of y axis. If `NULL`, default label is used.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Other parameters include:</p><dl><dt><code>alpha</code></dt>
<dd><p>significance level.</p></dd>

 <dt><code>threshold</code></dt>
<dd><p>critical threshold, default is <code>0</code>.</p></dd>

 <dt><code>lim</code></dt>
<dd><p>limits for the axes.</p></dd>

 <dt><code>lim.x</code></dt>
<dd><p>limits for the x axis. Default is <code>lim</code>.</p></dd>

 <dt><code>lim.y</code></dt>
<dd><p>limits for the y axis. Default is <code>lim</code>.</p></dd>

 <dt><code>nlevels</code></dt>
<dd><p>number of levels in the contour plot.</p></dd>

 <dt><code>col.contour</code></dt>
<dd><p>color of the contour lines.</p></dd>

 <dt><code>col.thr.line</code></dt>
<dd><p>color of the threshold line.</p></dd>

 <dt><code>label.text</code></dt>
<dd><p>should benchmark label texts be shown? Default is <code>TRUE</code>.</p></dd>

 <dt><code>cex.label.text</code></dt>
<dd><p>character size of label text. Default is <code>.7</code>.</p></dd>

 <dt><code>label.bump.x</code></dt>
<dd><p>bump on the x coordinate of label text.</p></dd>

 <dt><code>label.bump.y</code></dt>
<dd><p>bump on the y coordinate of label text.</p></dd>

 <dt><code>cex.lab</code></dt>
<dd><p>The magnification to be used for x and y labels relative to the current setting of cex.</p></dd>

 <dt><code>cex.main</code></dt>
<dd><p>The magnification to be used for main titles relative to the current setting of cex.</p></dd>

 <dt><code>cex.axis</code></dt>
<dd><p>The magnification to be used for axis annotation relative to the current setting of cex.</p></dd>

 <dt><code>asp</code></dt>
<dd><p>the y/x aspect ratio. Default is 1.</p></dd>


</dl><p>If <code>parm = "fs"</code> or <code>parm = "rf"</code> the function is simply a wrapper to the sensemakr function <code><a href="https://rdrr.io/pkg/sensemakr/man/ovb_contour_plot.html" class="external-link">ovb_contour_plot.lm</a></code> on the first-stage or reduced-form <code><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></code> models.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Cinelli, C. and Hazlett, C. (2020), "Making Sense of Sensitivity: Extending Omitted Variable Bias." Journal of the Royal Statistical Society, Series B (Statistical Methodology).</p>
<p>Cinelli, C. and Hazlett, C. (2025), "An Omitted Variable Bias Framework for Sensitivity Analysis of Instrumental Variables." Biometrika. <a href="https://doi.org/10.1093/biomet/asaf004" class="external-link">doi:10.1093/biomet/asaf004</a></p>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://carloscinelli.com" class="external-link">Carlos Cinelli</a>, <a href="https://www.chadhazlett.com" class="external-link">Chad Hazlett</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

